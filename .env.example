# MCP Resource Server Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# File Source Configuration
# =============================================================================

# Pattern for constructing file URLs. {file_id} will be replaced.
# Examples:
#   Local filesystem (default): file:///mnt/resources/{file_id}
#   Custom API: https://api.example.com/files/{file_id}
#   Network share: file:///mnt/network-storage/{file_id}
#   Cloud storage: https://mybucket.s3.amazonaws.com/{file_id}
RESOURCE_SERVER_URL_PATTERN=file:///mnt/resources/{file_id}

# =============================================================================
# Resource Server Configuration
# =============================================================================

# Enable debug logging and timing information (true/false)
RESOURCE_SERVER_DEBUG=true

# Hide internal error details from clients (true/false)
# Set to 'true' in production to avoid exposing internal errors
RESOURCE_SERVER_MASK_ERRORS=false

# =============================================================================
# Blob Storage Configuration
# =============================================================================

# Root directory for blob storage
# This is where upload_image_resource() and upload_file_resource() store files
# for sharing between MCP servers
BLOB_STORAGE_ROOT=/mnt/blob-storage

# Maximum size per blob in MB
# Files larger than this will be rejected
BLOB_MAX_SIZE_MB=100

# Time-to-live for blobs in hours
# Blobs older than this will be automatically cleaned up
BLOB_TTL_HOURS=24

# =============================================================================
# Additional Notes
# =============================================================================

# Blob Storage Features:
# - Automatic SHA256-based deduplication (identical files share storage)
# - Two-level sharding for performance with large file counts
# - TTL-based automatic cleanup
# - Resource IDs in format: blob://TIMESTAMP-HASH.EXT
#
# Shared Storage:
# Multiple MCP servers can share the same BLOB_STORAGE_ROOT directory
# to enable file sharing between services. Just configure all servers
# to use the same path.
#
# URL Pattern Flexibility:
# The RESOURCE_SERVER_URL_PATTERN supports any URL accessible via HTTP/HTTPS
# or local filesystem (file://). The {file_id} placeholder is replaced
# with the actual file identifier when downloading.
